import{r,t as as,c as rs,j as e,V as Ne,R as we,a as X,A as ke,C as ye,X as Ce,T as Se,D as Ee,P as ls,b as ns,$ as is,d as Le,e as os,H as ds,f as cs,u as Te,g as xs,h as se,S as ms,i as us,L as Pe,k as Re,l as Ae,m as hs,n as Ie,E as oe,o as de,p as ce,q as Oe,s as gs,B as Z,v as xe,M as me,U as ue,w as he,x as ps,y as fs,z as K,F as ge,G as q,I as _e,J as bs,K as js,N as ne,O as Me,Q as V,W as ze,Y as vs,Z as $e,_ as Ns,a0 as te,a1 as ws,a2 as ks,a3 as Fe,a4 as De,a5 as ys,a6 as pe,a7 as Cs,a8 as Ss,a9 as Es,aa as Ls}from"./vendor-C2SWq5bX.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const x of o.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&l(x)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();const Ts=1,Ps=1e6;let G=0;function Rs(){return G=(G+1)%Number.MAX_SAFE_INTEGER,G.toString()}const ee=new Map,fe=s=>{if(ee.has(s))return;const t=setTimeout(()=>{ee.delete(s),B({type:"REMOVE_TOAST",toastId:s})},Ps);ee.set(s,t)},As=(s,t)=>{switch(t.type){case"ADD_TOAST":return{...s,toasts:[t.toast,...s.toasts].slice(0,Ts)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=t;return a?fe(a):s.toasts.forEach(l=>{fe(l.id)}),{...s,toasts:s.toasts.map(l=>l.id===a||a===void 0?{...l,open:!1}:l)}}case"REMOVE_TOAST":return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(a=>a.id!==t.toastId)}}},W=[];let Y={toasts:[]};function B(s){Y=As(Y,s),W.forEach(t=>{t(Y)})}function Is({...s}){const t=Rs(),a=n=>B({type:"UPDATE_TOAST",toast:{...n,id:t}}),l=()=>B({type:"DISMISS_TOAST",toastId:t});return B({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:n=>{n||l()}}}),{id:t,dismiss:l,update:a}}function ie(){const[s,t]=r.useState(Y);return r.useEffect(()=>(W.push(t),()=>{const a=W.indexOf(t);a>-1&&W.splice(a,1)}),[s]),{...s,toast:Is,dismiss:a=>B({type:"DISMISS_TOAST",toastId:a})}}function b(...s){return as(rs(s))}const Os=ls,Qe=r.forwardRef(({className:s,...t},a)=>e.jsx(Ne,{ref:a,className:b("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...t}));Qe.displayName=Ne.displayName;const _s=X("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ue=r.forwardRef(({className:s,variant:t,...a},l)=>e.jsx(we,{ref:l,className:b(_s({variant:t}),s),...a}));Ue.displayName=we.displayName;const Ms=r.forwardRef(({className:s,...t},a)=>e.jsx(ke,{ref:a,className:b("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...t}));Ms.displayName=ke.displayName;const Be=r.forwardRef(({className:s,...t},a)=>e.jsx(ye,{ref:a,className:b("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...t,children:e.jsx(Ce,{className:"h-4 w-4"})}));Be.displayName=ye.displayName;const Ve=r.forwardRef(({className:s,...t},a)=>e.jsx(Se,{ref:a,className:b("text-sm font-semibold",s),...t}));Ve.displayName=Se.displayName;const He=r.forwardRef(({className:s,...t},a)=>e.jsx(Ee,{ref:a,className:b("text-sm opacity-90",s),...t}));He.displayName=Ee.displayName;function zs(){const{toasts:s}=ie();return e.jsxs(Os,{children:[s.map(function({id:t,title:a,description:l,action:n,...o}){return e.jsxs(Ue,{...o,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(Ve,{children:a}),l&&e.jsx(He,{children:l})]}),n,e.jsx(Be,{})]},t)}),e.jsx(Qe,{})]})}const $s=({...s})=>{const{theme:t="system"}=ns();return e.jsx(is,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s})},Fs=os,Ds=r.forwardRef(({className:s,sideOffset:t=4,...a},l)=>e.jsx(Le,{ref:l,sideOffset:t,className:b("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a}));Ds.displayName=Le.displayName;let be=!1,U=null;const Qs=new Promise(s=>{U=s}),Us=(s=1200)=>Promise.race([Qs,new Promise(t=>setTimeout(t,s))]);function Bs(s){return s.replace(/\/+/g,"/")}function Vs(s,t){return t?t.startsWith("/")?t:Bs(`${s.replace(/\/$/,"")}/${t}`):s||""}function ae(s,t="",a=new Set){return r.Children.forEach(s,l=>{var o;if(!r.isValidElement(l))return;if(l.type===se||typeof l.type=="function"&&l.type.name==="Route"){const{path:x,index:i,children:p}=l.props??{},j=i?t||"/":x?Vs(t,x):t;(i||x)&&a.add(j||"/"),p&&ae(p,j,a)}else{const x=(o=l.props)==null?void 0:o.children;x&&ae(x,t,a)}}),a}function Hs(s){if(!be)try{const t=Array.from(ae(s)).sort();return}finally{be=!0,U==null||U(),U=null}}function qs(s){return r.useEffect(()=>{Hs(s.children)},[]),r.createElement(cs,{...s})}let je="";function Ws(s){const t=`${s.pathname}${s.search}${s.hash}`;t!==je&&(je=t)}function Ys(){const s=Te(),t=xs();return r.useEffect(()=>{(async()=>(await Us(),Ws(s)))()},[s.key,s.pathname,s.search,s.hash]),r.useEffect(()=>{function a(l){l.data}return window.addEventListener("message",a),()=>window.removeEventListener("message",a)},[t]),null}function Js(s){return e.jsxs(e.Fragment,{children:[s,e.jsx(Ys,{})]})}function Xs(s){return e.jsx(ds,{...s,children:Js(s.children)})}const Zs=X("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=r.forwardRef(({className:s,variant:t,size:a,asChild:l=!1,...n},o)=>{const x=l?ms:"button";return e.jsx(x,{className:b(Zs({variant:t,size:a,className:s})),ref:o,...n})});u.displayName="Button";const k=r.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:b("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t}));k.displayName="Card";const T=r.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:b("flex flex-col space-y-1.5 p-6",s),...t}));T.displayName="CardHeader";const P=r.forwardRef(({className:s,...t},a)=>e.jsx("h3",{ref:a,className:b("text-2xl font-semibold leading-none tracking-tight",s),...t}));P.displayName="CardTitle";const M=r.forwardRef(({className:s,...t},a)=>e.jsx("p",{ref:a,className:b("text-sm text-muted-foreground",s),...t}));M.displayName="CardDescription";const S=r.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:b("p-6 pt-0",s),...t}));S.displayName="CardContent";const Ks=r.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:b("flex items-center p-6 pt-0",s),...t}));Ks.displayName="CardFooter";const Gs="https://nkeoeafpyezjopgisxyh.supabase.co",et="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5rZW9lYWZweWV6am9wZ2lzeHloIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzNjgyMDQsImV4cCI6MjA4MDk0NDIwNH0.QP0dF-XJ08WveHaTX6W-yUy4QbyeSAxXjundVTiud0E",A=us(Gs,et),z=r.forwardRef(({className:s,type:t,...a},l)=>e.jsx("input",{type:t,className:b("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:l,...a}));z.displayName="Input";const st=hs,qe=r.forwardRef(({className:s,...t},a)=>e.jsx(Pe,{ref:a,className:b("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));qe.displayName=Pe.displayName;const re=r.forwardRef(({className:s,...t},a)=>e.jsx(Re,{ref:a,className:b("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t}));re.displayName=Re.displayName;const le=r.forwardRef(({className:s,...t},a)=>e.jsx(Ae,{ref:a,className:b("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));le.displayName=Ae.displayName;const tt=X("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$=r.forwardRef(({className:s,...t},a)=>e.jsx(Ie,{ref:a,className:b(tt(),s),...t}));$.displayName=Ie.displayName;const We=r.createContext(void 0),H=()=>{const s=r.useContext(We);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},at=({children:s})=>{const[t,a]=r.useState(null),[l,n]=r.useState(null),[o,x]=r.useState(!0),{toast:i}=ie();r.useEffect(()=>{const{data:{subscription:h}}=A.auth.onAuthStateChange(async(f,c)=>{n(c),a((c==null?void 0:c.user)??null),x(!1)});return A.auth.getSession().then(({data:{session:f}})=>{n(f),a((f==null?void 0:f.user)??null),x(!1)}),()=>h.unsubscribe()},[]);const L={user:t,session:l,loading:o,signUp:async(h,f,c)=>{try{const{data:y,error:v}=await A.auth.signUp({email:h,password:f,options:{emailRedirectTo:`${window.location.origin}/`,data:c}});if(v)throw v;return i({title:"Registration Successful",description:"Please check your email and confirm your registration"}),{data:y,error:null}}catch(y){return i({title:"Registration Error",description:y.message,variant:"destructive"}),{data:null,error:y}}},signIn:async(h,f)=>{try{const{data:c,error:y}=await A.auth.signInWithPassword({email:h,password:f});if(y)throw y;return i({title:"Welcome Back",description:"Successfully signed in to SQL Knowledge Base!"}),{data:c,error:null}}catch(c){return i({title:"Sign In Error",description:c.message,variant:"destructive"}),{data:null,error:c}}},signOut:async()=>{try{const{error:h}=await A.auth.signOut();if(h)throw h;i({title:"Signed Out",description:"See you next time!"})}catch(h){i({title:"Sign Out Error",description:h.message,variant:"destructive"})}}};return e.jsx(We.Provider,{value:L,children:s})},rt=({isOpen:s,onClose:t})=>{const[a,l]=r.useState(""),[n,o]=r.useState(""),[x,i]=r.useState(""),[p,j]=r.useState(""),[E,L]=r.useState(""),[h,f]=r.useState(!1),[c,y]=r.useState(!1),{signUp:v,signIn:D}=H(),m=async d=>{if(d.preventDefault(),n!==x)return;y(!0);const{error:F}=await v(a,n,{username:E,full_name:p});y(!1),F||t()},g=async d=>{d.preventDefault(),y(!0);const{error:F}=await D(a,n);y(!1),F||t()};return s?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(k,{className:"w-full max-w-md border-slate-200 dark:border-slate-700",children:[e.jsxs(T,{children:[e.jsx(P,{className:"text-slate-900 dark:text-white",children:"Welcome to SQL Knowledge Base"}),e.jsx(M,{className:"text-slate-600 dark:text-slate-400",children:"Sign in to your account or create a new one to track your progress"})]}),e.jsx(S,{children:e.jsxs(st,{defaultValue:"signin",className:"w-full",children:[e.jsxs(qe,{className:"grid w-full grid-cols-2",children:[e.jsx(re,{value:"signin",children:"Sign In"}),e.jsx(re,{value:"signup",children:"Sign Up"})]}),e.jsx(le,{value:"signin",children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"signin-email",className:"text-slate-900 dark:text-white",children:"Email"}),e.jsx(z,{id:"signin-email",type:"email",value:a,onChange:d=>l(d.target.value),required:!0,className:"border-slate-300 dark:border-slate-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"signin-password",className:"text-slate-900 dark:text-white",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{id:"signin-password",type:h?"text":"password",value:n,onChange:d=>o(d.target.value),required:!0,className:"border-slate-300 dark:border-slate-600"}),e.jsx(u,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>f(!h),children:h?e.jsx(oe,{className:"h-4 w-4"}):e.jsx(de,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{type:"submit",className:"flex-1 bg-slate-900 hover:bg-slate-800 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200",disabled:c,children:[c&&e.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign In"]}),e.jsx(u,{type:"button",variant:"outline",onClick:t,className:"border-slate-300 text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-800",children:"Cancel"})]})]})}),e.jsx(le,{value:"signup",children:e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"signup-fullname",className:"text-slate-900 dark:text-white",children:"Full Name"}),e.jsx(z,{id:"signup-fullname",type:"text",value:p,onChange:d=>j(d.target.value),required:!0,className:"border-slate-300 dark:border-slate-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"signup-username",className:"text-slate-900 dark:text-white",children:"Username"}),e.jsx(z,{id:"signup-username",type:"text",value:E,onChange:d=>L(d.target.value),required:!0,className:"border-slate-300 dark:border-slate-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"signup-email",className:"text-slate-900 dark:text-white",children:"Email"}),e.jsx(z,{id:"signup-email",type:"email",value:a,onChange:d=>l(d.target.value),required:!0,className:"border-slate-300 dark:border-slate-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"signup-password",className:"text-slate-900 dark:text-white",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{id:"signup-password",type:h?"text":"password",value:n,onChange:d=>o(d.target.value),required:!0,className:"border-slate-300 dark:border-slate-600"}),e.jsx(u,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>f(!h),children:h?e.jsx(oe,{className:"h-4 w-4"}):e.jsx(de,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{htmlFor:"signup-confirm",className:"text-slate-900 dark:text-white",children:"Confirm Password"}),e.jsx(z,{id:"signup-confirm",type:"password",value:x,onChange:d=>i(d.target.value),required:!0,className:"border-slate-300 dark:border-slate-600"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{type:"submit",className:"flex-1 bg-slate-900 hover:bg-slate-800 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200",disabled:c||n!==x,children:[c&&e.jsx(ce,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign Up"]}),e.jsx(u,{type:"button",variant:"outline",onClick:t,className:"border-slate-300 text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-800",children:"Cancel"})]})]})})]})})]})}):null},lt=({currentView:s,onNavigate:t,onShowAuth:a})=>{var h,f;const[l,n]=r.useState(!1),[o,x]=r.useState(!1),{user:i,signOut:p}=H(),j=()=>{x(!o),document.documentElement.classList.toggle("dark")},E=async()=>{await p(),t("home"),n(!1)},L=[{name:"Home",icon:gs,view:"home"},{name:"Courses",icon:Z,view:"lessons"}];return e.jsxs("header",{className:"sticky top-0 z-50 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm border-b border-slate-200 dark:border-slate-800",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-900 dark:bg-slate-100 rounded-lg",children:e.jsx(Oe,{className:"h-6 w-6 text-white dark:text-slate-900"})}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"SQL Knowledge Base"})})]}),e.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:L.map(c=>e.jsxs("button",{onClick:()=>t(c.view),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${s===c.view?"bg-slate-100 text-slate-900 dark:bg-slate-800 dark:text-slate-100":"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100"}`,children:[e.jsx(c.icon,{className:"h-4 w-4"}),c.name]},c.name))}),e.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[e.jsx(u,{variant:"ghost",size:"sm",onClick:j,className:"p-2 text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:o?e.jsx(xe,{className:"h-4 w-4"}):e.jsx(me,{className:"h-4 w-4"})}),i?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(k,{className:"px-3 py-1 border-slate-200 dark:border-slate-700",children:e.jsxs(S,{className:"p-0 flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"}),e.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-white",children:((h=i.user_metadata)==null?void 0:h.full_name)||i.email})]})}),e.jsx(u,{variant:"ghost",size:"sm",onClick:E,className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:e.jsx(he,{className:"h-4 w-4"})})]}):e.jsx(u,{onClick:a,className:"bg-slate-900 hover:bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200",children:"Sign In"})]}),e.jsx("div",{className:"md:hidden",children:e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>n(!l),className:"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:l?e.jsx(Ce,{className:"h-5 w-5"}):e.jsx(ps,{className:"h-5 w-5"})})})]})}),l&&e.jsx("div",{className:"md:hidden border-t border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900",children:e.jsxs("div",{className:"px-4 py-3 space-y-3",children:[L.map(c=>e.jsxs("button",{onClick:()=>{t(c.view),n(!1)},className:`flex items-center gap-3 w-full px-3 py-2 rounded-md text-sm font-medium transition-colors ${s===c.view?"bg-slate-100 text-slate-900 dark:bg-slate-800 dark:text-slate-100":"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100"}`,children:[e.jsx(c.icon,{className:"h-4 w-4"}),c.name]},c.name)),e.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-3",children:[e.jsxs(u,{variant:"ghost",size:"sm",onClick:j,className:"w-full justify-start gap-3 text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:[o?e.jsx(xe,{className:"h-4 w-4"}):e.jsx(me,{className:"h-4 w-4"}),o?"Light Mode":"Dark Mode"]}),i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 text-sm text-slate-900 dark:text-white",children:[e.jsx(ue,{className:"h-4 w-4"}),e.jsx("span",{children:((f=i.user_metadata)==null?void 0:f.full_name)||i.email})]}),e.jsxs(u,{variant:"ghost",size:"sm",onClick:E,className:"w-full justify-start gap-3 text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:[e.jsx(he,{className:"h-4 w-4"}),"Sign Out"]})]}):e.jsx(u,{onClick:()=>{a(),n(!1)},className:"w-full mt-3 bg-slate-900 hover:bg-slate-800 text-white dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200",children:"Sign In"})]})]})})]})},nt=X("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function I({className:s,variant:t,...a}){return e.jsx("div",{className:b(nt({variant:t}),s),...a})}const it=({onGetStarted:s,onShowAuth:t,user:a})=>{const l=[{icon:e.jsx(Oe,{className:"h-8 w-8 text-slate-700 dark:text-slate-300"}),title:"Complete SQL Curriculum",description:"From database fundamentals to advanced analytics and performance optimization"},{icon:e.jsx(ze,{className:"h-8 w-8 text-green-600"}),title:"500+ Interactive Exercises",description:"Hands-on practice with instant feedback and progressive difficulty levels"},{icon:e.jsx(V,{className:"h-8 w-8 text-orange-500"}),title:"Industry Certificates",description:"Earn recognized certificates to showcase your SQL expertise to employers"},{icon:e.jsx(vs,{className:"h-8 w-8 text-blue-600"}),title:"Progress Analytics",description:"Track your learning journey with detailed analytics and personalized insights"}],n=[{number:"20+",label:"Course Modules",icon:e.jsx(Z,{className:"h-5 w-5"})},{number:"500+",label:"Practice Exercises",icon:e.jsx(ne,{className:"h-5 w-5"})},{number:"5",label:"Skill Levels",icon:e.jsx(Me,{className:"h-5 w-5"})},{number:"3",label:"Certificate Types",icon:e.jsx(V,{className:"h-5 w-5"})}],o=[{title:"Database Fundamentals",description:"Learn database concepts, RDBMS principles, and data modeling basics",level:1,lessons:3,badge:"Beginner"},{title:"SQL Querying Mastery",description:"Master SELECT, WHERE, JOIN operations and data retrieval techniques",level:2,lessons:6,badge:"Intermediate"},{title:"Advanced Analytics",description:"Window functions, subqueries, and complex analytical operations",level:3,lessons:4,badge:"Advanced"},{title:"Performance & Security",description:"Query optimization, indexing strategies, and database security",level:4,lessons:3,badge:"Expert"},{title:"Business Intelligence",description:"Data warehousing, ETL processes, and enterprise-level SQL",level:5,lessons:4,badge:"Professional"}],x=[{name:"Free",price:"$0",period:"forever",description:"Perfect for getting started",features:["Access to 10 lessons","100 practice exercises","Basic progress tracking","Community support"],buttonText:"Get Started Free",popular:!1},{name:"Pro",price:"$19",period:"month",description:"For serious learners",features:["All 20+ lessons unlocked","500+ practice exercises","Advanced analytics","Industry certificates","Priority support","Offline access"],buttonText:"Start Pro Trial",popular:!0},{name:"Enterprise",price:"$99",period:"month",description:"For teams and organizations",features:["Everything in Pro","Team management","Custom learning paths","Advanced reporting","SSO integration","Dedicated support"],buttonText:"Contact Sales",popular:!1}];return e.jsxs("div",{className:"min-h-screen",children:[e.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:e.jsxs("div",{className:"text-center space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs(I,{variant:"secondary",className:"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200",children:[e.jsx(fs,{className:"h-3 w-3 mr-1"}),"Professional SQL Training Platform"]}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight text-slate-900 dark:text-white",children:["Master SQL with",e.jsx("span",{className:"block bg-gradient-to-r from-slate-700 via-blue-600 to-slate-800 bg-clip-text text-transparent",children:"Interactive Learning"})]}),e.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-300 max-w-3xl mx-auto",children:"Build database expertise through hands-on practice, earn industry-recognized certificates, and advance your career with our comprehensive SQL curriculum"})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:a?e.jsxs(u,{size:"lg",onClick:s,className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200",children:[e.jsx(K,{className:"h-5 w-5 mr-2"}),"Continue Learning"]}):e.jsxs(e.Fragment,{children:[e.jsxs(u,{size:"lg",onClick:t,className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200",children:[e.jsx(K,{className:"h-5 w-5 mr-2"}),"Start Learning Free"]}),e.jsxs(u,{size:"lg",variant:"outline",onClick:s,className:"border-slate-300 text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-800",children:["Explore Curriculum",e.jsx(ge,{className:"h-5 w-5 ml-2"})]})]})})]})})]}),e.jsx("section",{className:"py-16 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:n.map((i,p)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:i.icon})}),e.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:i.number}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:i.label})]},p))})})}),e.jsx("section",{className:"py-20 bg-slate-50 dark:bg-slate-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-slate-900 dark:text-white",children:"Why Choose Our Platform?"}),e.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-300 max-w-2xl mx-auto",children:"Professional-grade SQL education designed for real-world success"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:l.map((i,p)=>e.jsxs(k,{className:"text-center card-hover border-slate-200 dark:border-slate-700",children:[e.jsxs(T,{children:[e.jsx("div",{className:"flex justify-center mb-4",children:i.icon}),e.jsx(P,{className:"text-lg text-slate-900 dark:text-white",children:i.title})]}),e.jsx(S,{children:e.jsx(M,{className:"text-slate-600 dark:text-slate-400",children:i.description})})]},p))})]})}),e.jsx("section",{className:"py-20 bg-white dark:bg-slate-800",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-slate-900 dark:text-white",children:"Structured Learning Path"}),e.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-300 max-w-2xl mx-auto",children:"Progress from beginner to expert with our carefully designed curriculum"})]}),e.jsx("div",{className:"space-y-6",children:o.map((i,p)=>e.jsx(k,{className:"card-hover border-slate-200 dark:border-slate-700",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-slate-900 dark:bg-slate-100 rounded-full flex items-center justify-center text-white dark:text-slate-900 font-bold",children:p+1})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:i.title}),e.jsx(I,{variant:"outline",className:"border-slate-300 text-slate-700 dark:border-slate-600 dark:text-slate-300",children:i.badge}),e.jsxs(I,{variant:"secondary",className:"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300",children:[i.lessons," lessons"]})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:i.description})]}),e.jsx(ge,{className:"h-5 w-5 text-slate-400 dark:text-slate-500"})]})})},p))})]})}),e.jsx("section",{className:"py-20 bg-slate-50 dark:bg-slate-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-slate-900 dark:text-white",children:"Choose Your Plan"}),e.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-300 max-w-2xl mx-auto",children:"Start free and upgrade as you grow your SQL expertise"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:x.map((i,p)=>e.jsxs(k,{className:`relative card-hover border-slate-200 dark:border-slate-700 ${i.popular?"ring-2 ring-blue-500 dark:ring-blue-400":""}`,children:[i.popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsxs(I,{className:"bg-blue-600 text-white",children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),"Most Popular"]})}),e.jsxs(T,{className:"text-center",children:[e.jsx(P,{className:"text-xl text-slate-900 dark:text-white",children:i.name}),e.jsxs("div",{className:"mt-4",children:[e.jsx("span",{className:"text-4xl font-bold text-slate-900 dark:text-white",children:i.price}),e.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["/",i.period]})]}),e.jsx(M,{className:"text-slate-600 dark:text-slate-400",children:i.description})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsx("ul",{className:"space-y-3",children:i.features.map((j,E)=>e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx(_e,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:j})]},E))}),e.jsx(u,{className:`w-full ${i.popular?"bg-blue-600 hover:bg-blue-700 text-white":"bg-slate-900 hover:bg-slate-800 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200"}`,onClick:a?s:t,children:i.buttonText})]})]},p))})]})}),e.jsx("section",{className:"py-20 bg-slate-900 dark:bg-slate-800",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-4 bg-slate-800 dark:bg-slate-700 rounded-full",children:e.jsx(bs,{className:"h-8 w-8 text-white"})})}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Become a SQL Expert?"}),e.jsx("p",{className:"text-xl text-slate-300 mb-8",children:"Join thousands of professionals who have advanced their careers with our SQL training"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(u,{size:"lg",onClick:a?s:t,className:"bg-white text-slate-900 hover:bg-slate-100",children:[e.jsx(K,{className:"h-5 w-5 mr-2"}),a?"Continue Learning":"Start Free Today"]}),e.jsxs(u,{size:"lg",variant:"outline",className:"border-slate-600 text-slate-300 hover:bg-slate-800",children:[e.jsx(js,{className:"h-5 w-5 mr-2"}),"View Certificates"]})]})]})})]})},J=r.forwardRef(({className:s,value:t,...a},l)=>e.jsx($e,{ref:l,className:b("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...a,children:e.jsx(Ns,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));J.displayName=$e.displayName;const ot={1:"bg-green-600",2:"bg-blue-600",3:"bg-orange-500",4:"bg-red-600",5:"bg-purple-600"},dt={1:"Beginner",2:"Intermediate",3:"Advanced",4:"Expert",5:"Professional"},ct=({onSelectLesson:s})=>{const[t,a]=r.useState([]),[l,n]=r.useState([]),[o,x]=r.useState(!0),{user:i}=H(),p="free",j=10;r.useEffect(()=>{E(),i&&L()},[i]);const E=async()=>{try{const{data:m,error:g}=await A.from("lessons").select("*").order("order_index");if(g)throw g;a(m||[])}catch(m){console.error("Error fetching lessons:",m)}finally{x(!1)}},L=async()=>{if(i)try{const{data:m,error:g}=await A.from("user_progress").select("*").eq("user_id",i.id);if(g)throw g;n(m||[])}catch(m){console.error("Error fetching user progress:",m)}},h=m=>l.some(g=>g.lesson_id===m),f=m=>{const g=l.find(d=>d.lesson_id===m);return(g==null?void 0:g.score)||0},c=m=>m>=j,y=t.reduce((m,g)=>(m[g.category]||(m[g.category]=[]),m[g.category].push(g),m),{}),v=l.length,D=l.reduce((m,g)=>m+g.score,0);return o?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-slate-900 dark:border-slate-100"})}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white",children:"SQL Mastery Course"}),e.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-300 max-w-3xl mx-auto",children:"Master SQL from fundamentals to advanced techniques with hands-on exercises and industry-recognized certificates"})]}),i&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(k,{className:"border-slate-200 dark:border-slate-700",children:[e.jsx(T,{children:e.jsxs(P,{className:"flex items-center gap-2 text-slate-900 dark:text-white",children:[e.jsx(te,{className:"h-5 w-5 text-orange-500"}),"Your Progress"]})}),e.jsxs(S,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:v}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Lessons Completed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:D}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Points Earned"})]})]}),e.jsx(J,{value:v/t.length*100,className:"h-2"}),e.jsxs("div",{className:"text-center mt-2 text-sm text-slate-600 dark:text-slate-400",children:[Math.round(v/t.length*100),"% Complete"]})]})]}),e.jsxs(k,{className:"border-slate-200 dark:border-slate-700",children:[e.jsx(T,{children:e.jsxs(P,{className:"flex items-center gap-2 text-slate-900 dark:text-white",children:[e.jsx(q,{className:"h-5 w-5 text-blue-600"}),"Subscription Status"]})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Current Plan"}),e.jsx(I,{variant:"secondary",className:"capitalize",children:p})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Access"}),e.jsx("span",{className:"text-sm text-slate-900 dark:text-white",children:`${j} of ${t.length} lessons`})]}),e.jsxs(u,{size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Upgrade to Pro"]})]})})]})]}),Object.entries(y).map(([m,g])=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2 text-slate-900 dark:text-white",children:[e.jsx(Z,{className:"h-6 w-6"}),m]}),e.jsxs(I,{variant:"outline",className:"border-slate-300 text-slate-700 dark:border-slate-600 dark:text-slate-300",children:[g.length," lessons"]})]}),e.jsx("div",{className:"grid gap-4",children:g.map((d,F)=>{const O=h(d.id),Q=f(d.id),_=c(d.order_index-1);return e.jsxs(k,{className:`cursor-pointer transition-all card-hover border-slate-200 dark:border-slate-700 ${O?"ring-1 ring-green-500/30 bg-green-50/50 dark:bg-green-950/10":""} ${_?"opacity-60":""}`,onClick:()=>!_&&s(d),children:[e.jsx(T,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsxs(P,{className:"text-lg flex items-center gap-2 text-slate-900 dark:text-white",children:[_&&e.jsx(ws,{className:"h-4 w-4 text-slate-400"}),d.title,O&&e.jsx(Me,{className:"h-4 w-4 text-orange-500 fill-current"})]}),e.jsx(M,{className:"text-slate-600 dark:text-slate-400",children:d.description})]}),!_&&e.jsx(ks,{className:"h-5 w-5 text-slate-400 dark:text-slate-500"})]})}),e.jsx(S,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(I,{variant:"secondary",className:`${ot[d.difficulty_level]} text-white`,children:dt[d.difficulty_level]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(Fe,{className:"h-4 w-4"}),d.estimated_time," min"]}),O&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600 dark:text-green-400",children:[e.jsx(ne,{className:"h-4 w-4"}),Q," points"]}),_&&e.jsxs(I,{variant:"outline",className:"border-orange-300 text-orange-700 dark:border-orange-600 dark:text-orange-400",children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),"Pro Only"]})]}),e.jsx(u,{variant:"ghost",size:"sm",disabled:_,className:"text-slate-600 dark:text-slate-400",children:_?"Locked":O?"Review":"Start"})]})})]},d.id)})})]},m)),e.jsxs(k,{className:"border-slate-200 dark:border-slate-700 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-950/20 dark:to-red-950/20",children:[e.jsxs(T,{children:[e.jsxs(P,{className:"flex items-center gap-2 text-slate-900 dark:text-white",children:[e.jsx(V,{className:"h-5 w-5 text-orange-500"}),"Earn Your SQL Certificate"]}),e.jsx(M,{className:"text-slate-600 dark:text-slate-400",children:"Complete all lessons to earn an industry-recognized SQL proficiency certificate"})]}),e.jsx(S,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:["Progress: ",v,"/",t.length," lessons"]}),e.jsx(J,{value:v/t.length*100,className:"w-64"})]}),e.jsxs(u,{variant:"outline",disabled:v<t.length,className:"border-orange-300 text-orange-700 hover:bg-orange-50 dark:border-orange-600 dark:text-orange-400 dark:hover:bg-orange-950/20",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),v>=t.length?"Claim Certificate":"Complete Course"]})]})})]})]})},Ye=r.forwardRef(({className:s,...t},a)=>e.jsx("textarea",{className:b("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...t}));Ye.displayName="Textarea";const Je=r.forwardRef(({className:s,orientation:t="horizontal",decorative:a=!0,...l},n)=>e.jsx(De,{ref:n,decorative:a,orientation:t,className:b("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...l}));Je.displayName=De.displayName;const ve={1:"bg-green-600",2:"bg-blue-600",3:"bg-orange-500",4:"bg-red-600",5:"bg-purple-600"},xt={1:"Beginner",2:"Intermediate",3:"Advanced",4:"Expert",5:"Professional"},mt=({lesson:s,onBack:t})=>{const[a,l]=r.useState([]),[n,o]=r.useState(0),[x,i]=r.useState(""),[p,j]=r.useState(!1),[E,L]=r.useState(0),[h,f]=r.useState({}),[c,y]=r.useState(0),[v,D]=r.useState(0),[m,g]=r.useState(!0),[d,F]=r.useState(!1),{user:O}=H(),{toast:Q}=ie();r.useEffect(()=>{_()},[s.id]);const _=async()=>{try{const{data:N,error:w}=await A.from("exercises").select("*").eq("lesson_id",s.id).order("order_index");if(w)throw w;l(N||[])}catch(N){console.error("Error fetching exercises:",N)}},C=a[n],Xe=async()=>{if(!C||!O)return;const N=x.trim().toLowerCase()===C.correct_answer.toLowerCase();try{await A.from("exercise_attempts").insert({user_id:O.id,exercise_id:C.id,user_answer:x,is_correct:N,hints_used:E})}catch(w){console.error("Error recording attempt:",w)}if(f(w=>({...w,[C.id]:N})),N){const w=Math.max(C.points-E*2,1);D(R=>R+w),y(R=>R+1),Q({title:"Correct!",description:`You earned ${w} points`}),setTimeout(()=>{n<a.length-1?(o(R=>R+1),i(""),j(!1),L(0)):Ze()},1500)}else Q({title:"Incorrect",description:"Try again or use a hint to help you",variant:"destructive"})},Ze=async()=>{if(O)try{await A.from("user_progress").upsert({user_id:O.id,lesson_id:s.id,score:v,time_spent:s.estimated_time}),F(!0),Q({title:"Lesson Complete!",description:`Congratulations! You earned ${v} points`})}catch(N){console.error("Error completing lesson:",N)}},Ke=()=>{j(!0),L(N=>N+1)},Ge=()=>{var N;return(N=s.content)!=null&&N.sections?e.jsx("div",{className:"space-y-6",children:s.content.sections.map((w,R)=>e.jsxs(k,{className:"border-slate-200 dark:border-slate-700",children:[e.jsx(T,{children:e.jsx(P,{className:"text-xl text-slate-900 dark:text-white",children:w.title})}),e.jsx(S,{children:e.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert text-slate-700 dark:text-slate-300",children:e.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:w.content})})})]},R))}):null},es=()=>{if(!C)return null;const N=h[C.id]!==void 0,w=h[C.id];return e.jsxs(k,{className:"border-slate-200 dark:border-slate-700",children:[e.jsxs(T,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(P,{className:"flex items-center gap-2 text-slate-900 dark:text-white",children:[e.jsx(ze,{className:"h-5 w-5"}),"Exercise ",n+1," of ",a.length]}),e.jsxs(I,{variant:"secondary",className:`${ve[C.difficulty_level]} text-white`,children:[C.points," points"]})]}),e.jsx(M,{className:"text-slate-600 dark:text-slate-400",children:C.description})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("h4",{className:"font-medium mb-2 text-slate-900 dark:text-white",children:"Question:"}),e.jsx("p",{className:"whitespace-pre-wrap text-slate-700 dark:text-slate-300",children:C.question})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-900 dark:text-white",children:"Your Answer:"}),e.jsx(Ye,{value:x,onChange:R=>i(R.target.value),placeholder:"Enter your answer here...",className:"sql-code border-slate-300 dark:border-slate-600",disabled:N})]}),p&&C.hints.length>0&&e.jsxs(k,{className:"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800",children:[e.jsx(T,{className:"pb-2",children:e.jsxs(P,{className:"text-sm flex items-center gap-2 text-blue-800 dark:text-blue-200",children:[e.jsx(pe,{className:"h-4 w-4"}),"Hints"]})}),e.jsx(S,{className:"pt-0",children:e.jsx("ul",{className:"space-y-1",children:C.hints.map((R,ts)=>e.jsxs("li",{className:"text-sm text-blue-700 dark:text-blue-300",children:["â€¢ ",R]},ts))})})]}),N&&e.jsx(k,{className:w?"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800",children:e.jsxs(S,{className:"pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[w?e.jsx(_e,{className:"h-5 w-5 text-green-600"}):e.jsx(Cs,{className:"h-5 w-5 text-red-600"}),e.jsx("span",{className:`font-medium ${w?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:w?"Correct!":"Incorrect"})]}),!w&&e.jsxs("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:["Correct answer: ",e.jsx("code",{className:"bg-red-100 dark:bg-red-900/50 px-1 rounded font-mono",children:C.correct_answer})]})]})}),e.jsx("div",{className:"flex gap-2",children:!N&&e.jsxs(e.Fragment,{children:[e.jsx(u,{onClick:Xe,disabled:!x.trim(),className:"bg-slate-900 hover:bg-slate-800 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200",children:"Check Answer"}),!p&&C.hints.length>0&&e.jsxs(u,{variant:"outline",onClick:Ke,className:"border-slate-300 text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-800",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Get Hint"]})]})})]})]})},ss=()=>d?e.jsxs(k,{className:"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-950/20",children:[e.jsxs(T,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-4 bg-green-100 dark:bg-green-900/50 rounded-full",children:e.jsx(te,{className:"h-8 w-8 text-green-600"})})}),e.jsx(P,{className:"text-2xl text-green-800 dark:text-green-200",children:"Lesson Complete!"}),e.jsxs(M,{className:"text-green-700 dark:text-green-300",children:["Congratulations on completing this lesson. You've earned ",v," points!"]})]}),e.jsxs(S,{className:"text-center space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:c}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Exercises Completed"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:v}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Points Earned"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-800 dark:text-green-200",children:[Math.round(c/a.length*100),"%"]}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Accuracy"})]})]}),e.jsxs(u,{onClick:t,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Continue Learning"]})]})]}):null;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(u,{variant:"ghost",onClick:t,className:"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100",children:[e.jsx(ys,{className:"h-4 w-4 mr-2"}),"Back to Lessons"]})}),e.jsx(k,{className:"border-slate-200 dark:border-slate-700",children:e.jsx(T,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(P,{className:"text-2xl text-slate-900 dark:text-white",children:s.title}),e.jsx(M,{className:"text-slate-600 dark:text-slate-400",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(I,{variant:"secondary",className:`${ve[s.difficulty_level]} text-white`,children:xt[s.difficulty_level]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(Fe,{className:"h-4 w-4"}),s.estimated_time," min"]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(ne,{className:"h-4 w-4"}),a.length," exercises"]})]})]}),a.length>0&&!d&&e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:v}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"points"})]})]})})}),a.length>0&&!d&&e.jsx(k,{className:"border-slate-200 dark:border-slate-700",children:e.jsxs(S,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-white",children:"Exercise Progress"}),e.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:[c," of ",a.length]})]}),e.jsx(J,{value:c/a.length*100,className:"h-2"})]})}),!d&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{variant:m?"default":"outline",onClick:()=>g(!0),className:m?"bg-slate-900 hover:bg-slate-800 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200":"border-slate-300 text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-800",children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Theory"]}),a.length>0&&e.jsxs(u,{variant:m?"outline":"default",onClick:()=>g(!1),className:m?"border-slate-300 text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-800":"bg-slate-900 hover:bg-slate-800 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200",children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),"Exercises"]})]}),e.jsx(Je,{className:"bg-slate-200 dark:bg-slate-700"}),d?ss():m?Ge():es()]})},ut=()=>{const[s,t]=r.useState("home"),[a,l]=r.useState(null),[n,o]=r.useState(!1),{user:x,loading:i}=H(),p=f=>{t(f),f!=="lesson"&&l(null)},j=f=>{l(f),t("lesson")},E=()=>{t("lessons")},L=()=>{o(!0)},h=()=>{o(!1)};return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(lt,{currentView:s,onNavigate:p,onShowAuth:L}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s==="home"&&e.jsx(it,{onGetStarted:E,onShowAuth:L,user:x}),s==="lessons"&&e.jsx(ct,{onSelectLesson:j}),s==="lesson"&&a&&e.jsx(mt,{lesson:a,onBack:()=>p("lessons")})]}),e.jsx(rt,{isOpen:n,onClose:h})]})},ht=()=>{const s=Te();return r.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",s.pathname)},[s.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},gt=new Ss,pt=()=>e.jsx(Es,{client:gt,children:e.jsx(at,{children:e.jsxs(Fs,{children:[e.jsx(zs,{}),e.jsx($s,{}),e.jsx(Xs,{children:e.jsxs(qs,{children:[e.jsx(se,{path:"/",element:e.jsx(ut,{})}),e.jsx(se,{path:"*",element:e.jsx(ht,{})})]})})]})})});Ls(document.getElementById("root")).render(e.jsx(pt,{}));
